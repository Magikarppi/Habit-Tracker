(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,n,t){e.exports=t.p+"static/media/caucasian-man-lifting.2b6b89b3.jpg"},28:function(e,n,t){e.exports=t.p+"static/media/man_learning_guitar.8c9017d8.jpg"},29:function(e,n,t){e.exports=t.p+"static/media/young-man_reading.b3b69e3c.png"},30:function(e,n,t){e.exports=t.p+"static/media/walking_outside_small.60ab5436.jpg"},31:function(e,n,t){e.exports=t.p+"static/media/woman-eating-healthy-vegetarian-dinner.6944619e.jpg"},32:function(e,n,t){e.exports=t.p+"static/media/woman_meditating.0dc78780.jpg"},36:function(e,n,t){e.exports=t(50)},41:function(e,n,t){},43:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(19),i=t.n(o),c=(t(41),t(20)),u=t(34),l=t(33),s=t(3),d=t.n(s),b=t(8),m=t(6),p=t(11),f=(t(43),null),g=function(e){f="bearer ".concat(e)},h=function(e){var n;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.awrap(fetch("/api/habits",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:f}}));case 3:return n=t.sent,t.abrupt("return",n.json());case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]])},v=function(e){return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.awrap(fetch("".concat("/api/habits","/").concat(e.id),{method:"DELETE"}));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),null,null,[[0,5]])},x=function(e){var n;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.awrap(fetch("".concat("/api/habits","/").concat(e.id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:f}}));case 3:return n=t.sent,t.abrupt("return",n.json());case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]])},k=function(e){var n;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.awrap(fetch("/api/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}));case 3:return n=t.sent,t.abrupt("return",n.json());case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]])},w=function(e){var n;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.awrap(fetch("/api/users",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}));case 3:return n=t.sent,t.abrupt("return",n.json());case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]])},E=function(){var e;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.awrap(fetch("https://quotes.rest/qod.json?category=inspire"));case 3:return e=n.sent,n.abrupt("return",e.json());case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])},O=t(1),j=t(2);function y(){var e=Object(O.a)(["\n  padding: 0.5em;\n  margin: 0.5em;\n  color: #000000;\n  background: papayawhip;\n  border: none;\n  border-radius: 3px;\n  box-sizing: border-box;\n  text-align: center;\n"]);return y=function(){return e},e}function S(){var e=Object(O.a)(["\n  margin: auto;\n  margin-bottom: 10px;\n  background: rgba(255, 255, 220, 0.5);\n  text-align: center;\n  width: 200px;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n"]);return S=function(){return e},e}function C(){var e=Object(O.a)(["\n  margin: auto;\n  text-align: center;\n"]);return C=function(){return e},e}function z(){var e=Object(O.a)(["\n  background: #fff870;\n  &:hover {\n    background: #85015d;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]);return z=function(){return e},e}var T=j.a.button(z()),D=j.a.div(C()),A=j.a.div(S()),H=j.a.input(y()),N=function(e){var n=e.handleHabitSubmit,t=e.habitName;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement(A,null,"name: ",r.a.createElement(H,Object.assign({"data-cy":"habitname-input"},t))),r.a.createElement(D,null,r.a.createElement(T,{"data-cy":"habit-submit","data-testid":"habit-submit",type:"submit"},"Add"))))};function M(){var e=Object(O.a)(["\n  background: #73ff00;\n  width: 50px;\n  font-size: 0.9em;\n  margin: auto;\n  margin-top: 1em;\n  border: 2px solid #000000;\n  border-radius: 3px;\n  text-align: center;\n\n"]);return M=function(){return e},e}function U(){var e=Object(O.a)(["\n  background: #fff870;\n  &:hover {\n    background: #a8ff36;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]);return U=function(){return e},e}function P(){var e=Object(O.a)(["\n  color: #000000;\n\n"]);return P=function(){return e},e}function q(){var e=Object(O.a)(["\n  border: 1px solid black;\n  height: 90px;\n"]);return q=function(){return e},e}var L=j.a.div(q()),J=Object(j.a)(m.b)(P()),I=j.a.button(U()),F=j.a.div(M()),W=function(e){var n=e.habit,t=e.handleCompletion;if(!n)return null;var a,o,i=new Date,c={thisDay:i.getDate(),thisMonth:i.getMonth(),thisYear:i.getFullYear()},u=(a=n.completions,o=c,a.filter((function(e){return Object.keys(o).every((function(n){return e[n]===o[n]}))})));return r.a.createElement(L,null,r.a.createElement(J,{"data-cy":"habit-link",to:"/habits/".concat(n.id)},n.name),u.length>0?r.a.createElement(F,null,"Done!"):r.a.createElement("div",null,r.a.createElement(I,{"data-cy":"done-btn",onClick:function(){return t(n)}},"Done for today!")))};function Y(){var e=Object(O.a)(["\n  background: #f2f5b5;\n  &:hover {\n    background: #e3bf20;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]);return Y=function(){return e},e}function _(){var e=Object(O.a)(["\n  background: #cfccc2;\n  &:hover {\n    background: #ff711f;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]);return _=function(){return e},e}function R(){var e=Object(O.a)(["\n  background: #fff870;\n  &:hover {\n    background: #85015d;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]);return R=function(){return e},e}function B(){var e=Object(O.a)(["\n  background: rgba(255, 255, 220, 0.8);\n  margin-left: 2%;\n  padding: 0.25em 1em;\n  border: 2px solid rgba(55, 55, 20, 0.5);\n  border-radius: 3px;\n"]);return B=function(){return e},e}function V(){var e=Object(O.a)(["\n  background: rgba(255, 255, 220, 0.8);\n  width: 200px;\n  margin: auto;\n  padding: 0.25em 1em;\n  border: 1px solid rgba(55, 55, 20, 0.5);\n  border-radius: 3px;\n"]);return V=function(){return e},e}function G(){var e=Object(O.a)(["\n  text-align: center;\n"]);return G=function(){return e},e}function K(){var e=Object(O.a)(["\n  margin: auto;\n  text-shadow: 1px 1px;\n  background: rgba(255, 255, 220, 0.8);\n  text-align: center;\n  width: 50%;\n  padding: 0.25em 1em;\n  border: 2px solid rgba(55, 55, 20, 0.5);\n  border-radius: 3px;\n"]);return K=function(){return e},e}function Q(){var e=Object(O.a)(["\n  color: #63006e;\n  font-weight: bold;\n  margin-right: 300px;\n  display: inline-block;\n  width: 60px;\n  background: rgba(255, 255, 220, 0.8);\n  &:hover {\n    background: #fad850;\n  }\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid rgba(255, 255, 220, 0.5);\n  border-radius: 3px;\n"]);return Q=function(){return e},e}function X(){var e=Object(O.a)(["\n  background: rgba(255, 255, 220, 0.8);\n  width: 300px;\n  padding: 10px;\n  margin: auto;\n"]);return X=function(){return e},e}var Z=j.a.div(X()),$=Object(j.a)(m.b)(Q()),ee=j.a.p(K()),ne=j.a.div(G()),te=j.a.h1(V()),ae=j.a.em(B()),re=j.a.button(R()),oe=j.a.button(_()),ie=j.a.button(Y()),ce=function(e){var n=e.quote,t=e.quoteAuthor,a=e.loggedInUser,o=e.handleLogout,i=e.habitsToShow,c=e.showHabitForm,u=e.handleHabitSubmit,l=e.habitName,s=e.toggleHabitForm,d=e.handleCompletion;return a?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(ae,null,a.username," logged in"),r.a.createElement(re,{"data-testid":"logout-btn",onClick:o},"Log out")),r.a.createElement(ne,null,r.a.createElement(te,null,"Habit tracker"),c?r.a.createElement("div",{"data-testid":"habitForm-open-div"},r.a.createElement(N,{handleHabitSubmit:u,habitName:l}),r.a.createElement(oe,{"data-cy":"habit-form-close","data-testid":"habit-form-close-btn",onClick:s},"cancel")):r.a.createElement(ie,{"data-cy":"habit-form-open","data-testid":"habit-form-open-btn",onClick:s},"Add a new habit"),i.length>0?r.a.createElement(Z,{"data-testid":"habit-div"},i.map((function(e){return r.a.createElement(W,{key:e.id,habit:e,handleCompletion:d})}))):null)):r.a.createElement("div",null,r.a.createElement(ne,null,r.a.createElement(te,null,"Habit tracker"),r.a.createElement($,{"data-cy":"login-btn","data-testid":"login-btn",to:"/login"},"Login"),r.a.createElement($,{"data-cy":"signup-btn","data-testid":"signup-btn",to:"/signup"},"Sign up"),n?r.a.createElement(ee,{"data-testid":"quotePara"},n," - ",t):r.a.createElement(ee,{"data-testid":"quotePara"},"loading quote...")))};function ue(){var e=Object(O.a)(["\n  background: rgba(255,255,220,0.8);\n  width: 200px;\n  margin: auto;\n  margin-bottom: 10px;\n  padding: 0.25em 1em;\n  border: 1px solid rgba(55,55,20,0.5);\n  border-radius: 3px;\n  text-align: center;\n"]);return ue=function(){return e},e}function le(){var e=Object(O.a)(["\n  padding: 0.5em;\n  margin: 0.5em;\n  color: palevioletred;\n  background: papayawhip;\n  border: none;\n  border-radius: 3px;\n  box-sizing: border-box;\n  text-align: center;\n"]);return le=function(){return e},e}function se(){var e=Object(O.a)(["\n  margin: auto;\n  margin-bottom: 10px;\n  background: rgba(255, 255, 220, 0.5);\n  text-align: center;\n  width: 200px;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n"]);return se=function(){return e},e}function de(){var e=Object(O.a)(["\n  background: #fff870;\n  &:hover {\n    background: #85015d;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]);return de=function(){return e},e}function be(){var e=Object(O.a)(["\n  color: #000000;\n  margin-right: 300px;\n  display: inline-block;\n  width: 40px;\n  background: rgba(255, 255, 220, 0.5);\n  &:hover {\n    background: #fad850;\n  }\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid rgba(255, 255, 220, 0.5);\n  border-radius: 3px;\n"]);return be=function(){return e},e}function me(){var e=Object(O.a)(["\n  margin: auto;\n  text-align: center;\n"]);return me=function(){return e},e}var pe=j.a.div(me()),fe=Object(j.a)(m.b)(be()),ge=j.a.button(de()),he=j.a.div(se()),ve=j.a.input(le()),xe=j.a.h3(ue()),ke=function(e){var n=e.username,t=e.password,a=e.handleSignupSubmit;return r.a.createElement("div",null,r.a.createElement(fe,{"data-cy":"back-btn",to:"/"},"Back"),r.a.createElement(xe,null,"Sign up"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:a},r.a.createElement(he,null,"Username ",r.a.createElement(ve,Object.assign({"data-cy":"signup-user-input"},n))),r.a.createElement(he,null,"Password ",r.a.createElement(ve,Object.assign({"data-cy":"signup-pass-input"},t))),r.a.createElement(pe,null,r.a.createElement(ge,{"data-cy":"signup-submit",type:"submit"},"Signup")))))};function we(){var e=Object(O.a)(["\n  background: rgba(255,255,220,0.8);\n  width: 200px;\n  margin: auto;\n  margin-bottom: 10px;\n  padding: 0.25em 1em;\n  border: 1px solid rgba(55,55,20,0.5);\n  border-radius: 3px;\n  text-align: center;\n"]);return we=function(){return e},e}function Ee(){var e=Object(O.a)(["\n  padding: 0.5em;\n  margin: 0.5em;\n  color: palevioletred;\n  background: papayawhip;\n  border: none;\n  border-radius: 3px;\n  box-sizing: border-box;\n  text-align: center;\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(O.a)(["\n  margin: auto;\n  margin-bottom: 10px;\n  background: rgba(255, 255, 220, 0.5);\n  text-align: center;\n  width: 200px;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n"]);return Oe=function(){return e},e}function je(){var e=Object(O.a)(["\n  margin: auto;\n  text-align: center;\n"]);return je=function(){return e},e}function ye(){var e=Object(O.a)(["\n  background: #fff870;\n  &:hover {\n    background: #85015d;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]);return ye=function(){return e},e}function Se(){var e=Object(O.a)(["\n  color: #000000;\n  margin-right: 300px;\n  display: inline-block;\n  width: 40px;\n  background: rgba(255, 255, 220, 0.5);\n  &:hover {\n    background: #fad850;\n  }\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid rgba(255, 255, 220, 0.5);\n  border-radius: 3px;\n"]);return Se=function(){return e},e}var Ce=Object(j.a)(m.b)(Se()),ze=j.a.button(ye()),Te=j.a.div(je()),De=j.a.div(Oe()),Ae=j.a.input(Ee()),He=j.a.h3(we()),Ne=function(e){var n=e.handleLoginSubmit,t=e.username,a=e.password;return r.a.createElement("div",null,r.a.createElement(Ce,{"data-cy":"back-btn",to:"/"},"Back"),r.a.createElement(He,null,"Login"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement(De,null,"Username ",r.a.createElement(Ae,Object.assign({"data-cy":"login-user-input","data-testid":"login-user-input"},t))),r.a.createElement(De,null,"Password ",r.a.createElement(Ae,Object.assign({"data-cy":"login-pass-input","data-testid":"login-pass-input"},a))),r.a.createElement(Te,null,r.a.createElement(ze,{"data-cy":"login-submit","data-testid":"login-submit",type:"submit"},"Login")))))};function Me(){var e=Object(O.a)(["\n    width: 50%;\n    margin: auto;\n    color: #000000;\n    background: #ff711f;\n    font-size: 20px;\n    border-style: solid;\n    border-radius: 5px;\n    padding: 10px;\n    margin-bottom: 10px;\n"]);return Me=function(){return e},e}var Ue=j.a.div(Me()),Pe=function(e){var n=e.errorMessage;return n?r.a.createElement(Ue,null,n):null};function qe(){var e=Object(O.a)(["\n    width: 50%;\n    margin: auto;\n    color: #000000;\n    background: #a1ff54;\n    font-size: 20px;\n    border-style: solid;\n    border-radius: 5px;\n    padding: 10px;\n    margin-bottom: 10px;\n"]);return qe=function(){return e},e}var Le=j.a.div(qe()),Je=function(e){var n=e.successMessage;return n?r.a.createElement(Le,null,n):null},Ie=t(25);function Fe(){var e=Object(O.a)(["\n  background: rgba(255, 255, 220, 0.8);\n  &:hover {\n    background: #e3bf20;\n  }\n  text-align: center;\n  color: #121200;\n  width: 50px;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n"]);return Fe=function(){return e},e}function We(){var e=Object(O.a)(["\n  background: #cfccc2;\n  &:hover {\n    background: #ff711f;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]);return We=function(){return e},e}var Ye=j.a.button(We()),_e=j.a.div(Fe()),Re=function(e){var n=e.habit,t=e.handleRemove;if(!n)return null;var a=n.completions.map((function(e){return[new Date(e.thisYear,e.thisMonth,e.thisDay),1]})),o=[[{type:"date",id:"Date"},{type:"number",id:"Completions"}]],i={title:n.name,noDataPattern:{backgroundColor:"#000000",color:"#000000"},colorAxis:{minValue:0,colors:["#00e5ff","#73ff00"]},calendar:{cellSize:25,cellColor:{stroke:"#e3e3e3",strokeOpacity:.5,strokeWidth:1},focusedCellColor:{stroke:"#d3362d",strokeOpacity:1,strokeWidth:1},monthLabel:{fontName:"Arial",fontSize:12,color:"#fad850",bold:!0,italic:!0},monthOutlineColor:{stroke:"#fad850",strokeOpacity:.8,strokeWidth:3},unusedMonthOutlineColor:{stroke:"#bc5679",strokeOpacity:.8,strokeWidth:2},underMonthSpace:16,underYearSpace:10,yearLabel:{fontName:"Arial",fontSize:32,color:"#695508",bold:!0}}};return o=o.concat(a),r.a.createElement("div",null,r.a.createElement(_e,{"data-cy":"back-btn"},r.a.createElement(m.b,{to:"/"},"Back")),r.a.createElement(Ie.a,{height:350,chartType:"Calendar",loader:r.a.createElement("div",null,"Loading Chart"),data:o,options:i,rootProps:{"data-testid":"1"}}),r.a.createElement("div",null,r.a.createElement(Ye,{"data-cy":"delete-btn",onClick:function(){return t(n)}},"Delete")))},Be=t(27),Ve=t.n(Be),Ge=t(28),Ke=t.n(Ge),Qe=t(29),Xe=t.n(Qe),Ze=t(30),$e=t.n(Ze),en=t(31),nn=t.n(en),tn=t(32),an=t.n(tn),rn=function(e){var n=Object(a.useState)(""),t=Object(b.a)(n,2),r=t[0],o=t[1];return{type:e,value:r,onChange:function(e){o(e.target.value)},reset:function(){o("")}}},on=function(){var e=Object(a.useState)(""),n=Object(b.a)(e,2),t=n[0],o=n[1],i=Object(a.useState)(""),s=Object(b.a)(i,2),f=s[0],O=s[1],j=Object(a.useState)([]),y=Object(b.a)(j,2),S=y[0],C=y[1],z=Object(a.useState)(null),T=Object(b.a)(z,2),D=T[0],A=T[1],H=Object(a.useState)(!1),N=Object(b.a)(H,2),M=N[0],U=N[1],P=Object(a.useState)(""),q=Object(b.a)(P,2),L=q[0],J=q[1],I=Object(a.useState)(""),F=Object(b.a)(I,2),W=F[0],Y=F[1],_=Object(a.useState)(null),R=Object(b.a)(_,2),B=R[0],V=R[1],G=rn("text"),K=rn("text"),Q=rn("password");Object(a.useEffect)((function(){!function(){var e,n,t;d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.awrap(E());case 3:e=a.sent,n=e.contents.quotes[0].quote,t=e.contents.quotes[0].author,o(n),O(t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),null,null,[[0,10]])}()}),[]),Object(a.useEffect)((function(){var e=[Ve.a,Ke.a,Xe.a,$e.a,nn.a,an.a],n=Math.floor(5*Math.random());document.body.background=e[n]}),[]),Object(a.useEffect)((function(){var e=window.localStorage.getItem("loggedHabitAppUser");if(e){var n=JSON.parse(e);A(n),C(n.habits),g(n.token)}}),[]);var X=function(e){var n,t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.preventDefault(),!((n={username:K.value,password:Q.value}).password.length<5)){a.next=6;break}return J("Password must be at least five (5) characters long"),setTimeout((function(){J(null)}),4e3),a.abrupt("return");case 6:return a.prev=6,a.next=9,d.a.awrap(w(n));case 9:if(!(t=a.sent).error){a.next=20;break}if(!t.error.includes("User validation failed: username: Error, expected `username` to be unique.")){a.next=15;break}return J("Username is already taken. Please choose another username."),setTimeout((function(){J(null)}),4e3),a.abrupt("return");case 15:if(!t.error.includes("is shorter than the minimum allowed length")||!t.error.includes("username")){a.next=19;break}return J("Username must be at least three (3) characters long"),setTimeout((function(){J(null)}),4e3),a.abrupt("return");case 19:return a.abrupt("return");case 20:t.username&&(V("/login"),V(null),Y("A new user created! Please log in!"),setTimeout((function(){Y(null)}),4e3),K.reset(),Q.reset()),a.next=26;break;case 23:a.prev=23,a.t0=a.catch(6),console.log("exception",a.t0);case 26:case"end":return a.stop()}}),null,null,[[6,23]])},Z=function(e){var n,t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),n={username:K.value,password:Q.value},a.prev=2,a.next=5,d.a.awrap(k(n));case 5:(t=a.sent).error&&"INVALID USERNAME OR PASSWORD"===t.error.toUpperCase()&&(J("Wrong username or password"),setTimeout((function(){J(null)}),4e3)),t.username&&(window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(t)),g(t.token),A(t),C(t.habits),K.reset(),Q.reset(),V("/"),V(null)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),console.log(a.t0);case 13:case"end":return a.stop()}}),null,null,[[2,10]])},$=function(){window.localStorage.clear(),A(null),C([])},ee=function(e){var n,t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.prev=1,n={name:G.value},a.next=5,d.a.awrap(h(n));case 5:if(!(t=a.sent).error){a.next=12;break}if(!t.error.includes("is shorter than the minimum allowed length")){a.next=11;break}return J("Minimum length for a habit name is two (2) characters."),setTimeout((function(){J(null)}),4e3),a.abrupt("return");case 11:return a.abrupt("return");case 12:t.name&&(C([].concat(Object(l.a)(S),[t])),D.habits=D.habits.concat(t),G.reset(),U(!1),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(D))),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(1),console.log(a.t0);case 18:case"end":return a.stop()}}),null,null,[[1,15]])},ne=function(e){return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Do you want to delete habit: ".concat(e.name,"?"))){n.next=18;break}return n.prev=1,n.next=4,d.a.awrap(v(e));case 4:C(S.filter((function(n){return n.id!==e.id}))),D.habits=D.habits.filter((function(n){return n.id!==e.id})),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(D)),Y("Habit deleted"),setTimeout((function(){Y(null)}),4e3),V("/"),V(null),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0),J("Habit deletion failed"),setTimeout((function(){J(null)}),4e3);case 18:case"end":return n.stop()}}),null,null,[[1,13]])},te=function(e){var n,t,a,r,o,i,c;return d.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=new Date,t=n.getDate(),a=n.getMonth(),r=n.getFullYear(),o={thisDay:t,thisMonth:a,thisYear:r},i=Object(u.a)({},e,{completions:e.completions.concat(o)}),l.prev=6,l.next=9,d.a.awrap(x(i));case 9:c=l.sent,C(S.map((function(e){return e.id===c.id?c:e}))),D.habits=D.habits.map((function(e){return e.id===c.id?c:e})),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(D)),Y("Completion added!"),setTimeout((function(){Y(null)}),4e3),l.next=22;break;case 17:l.prev=17,l.t0=l.catch(6),console.log(l.t0),J("Adding completion failed."),setTimeout((function(){J(null)}),4e3);case 22:case"end":return l.stop()}}),null,null,[[6,17]])},ae=function(){U(!M)},re=function(e){e.reset;return Object(c.a)(e,["reset"])};return r.a.createElement("div",null,r.a.createElement(Pe,{errorMessage:L}),r.a.createElement(Je,{successMessage:W}),r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(p.b,{exact:!0,path:"/",render:function(){return r.a.createElement(ce,{quote:t,quoteAuthor:f,habitsToShow:S,habitName:re(G),showHabitForm:M,toggleHabitForm:ae,handleCompletion:te,handleLogout:$,loggedInUser:D,handleHabitSubmit:ee})}}),r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(){return B?r.a.createElement(p.a,{to:B}):r.a.createElement(ke,{username:re(K),password:re(Q),handleSignupSubmit:X})}}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(){return B?r.a.createElement(p.a,{to:B}):r.a.createElement(Ne,{username:re(K),password:re(Q),handleLoginSubmit:Z})}}),r.a.createElement(p.b,{path:"/habits/:id",render:function(e){var n,t=e.match;return B?r.a.createElement(p.a,{to:B}):r.a.createElement(Re,{habit:(n=t.params.id,S.find((function(e){return e.id===n}))),handleRemove:ne})}}))))};i.a.render(r.a.createElement(on,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.30345877.chunk.js.map