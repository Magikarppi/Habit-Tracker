(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{46:function(e,n,t){},48:function(e,n,t){},59:function(e,n,t){"use strict";t.r(n);var r,a,i,c,o,s,d,l,u,b,p,h,j,f,x,m,g,O,v,w,y,k,S,z,C,T,U,H,D,L,A,N,I,P,M,R,E,F,J,q,V,Y,W,B,G,K,Q,X,Z,$,_=t(0),ee=t(34),ne=t.n(ee),te=(t(46),t(20)),re=t(26),ae=t(4),ie=t.n(ae),ce=t(7),oe=t(13),se=t(17),de=t(5),le=(t(48),"/api/habits"),ue=void 0,be=function(e){ue="bearer ".concat(e)},pe=function(){var e=Object(ce.a)(ie.a.mark((function e(n){var t,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,(t=new Headers).append("Content-Type","application/json"),t.append("Authorization",ue),e.next=8,fetch(le,{method:"POST",body:JSON.stringify(n),headers:t});case 8:return r=e.sent,e.abrupt("return",r.json());case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),he=function(){var e=Object(ce.a)(ie.a.mark((function e(n){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(le,"/").concat(n.id),{method:"DELETE"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),je=function(){var e=Object(ce.a)(ie.a.mark((function e(n){var t,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,(t=new Headers).append("Content-Type","application/json"),t.append("Authorization",ue),e.next=8,fetch("".concat(le,"/").concat(n.id),{method:"PUT",body:JSON.stringify(n),headers:t});case 8:return r=e.sent,e.abrupt("return",r.json());case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(ce.a)(ie.a.mark((function e(n){var t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),xe=function(){var e=Object(ce.a)(ie.a.mark((function e(n){var t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),me=t(2),ge=t(3),Oe=t(9),ve=t(1),we=ge.b.button(r||(r=Object(me.a)(["\n  background: #fffba8;\n  &:hover {\n    background: #fff870;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),ye=ge.b.div(a||(a=Object(me.a)(["\n  margin: auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),ke=ge.b.div(i||(i=Object(me.a)(["\n  margin: auto;\n  margin-bottom: 10px;\n  background: rgba(255, 255, 220, 0.5);\n  text-align: center;\n  width: 220px;\n  height: 20%;\n  overflow: hidden;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  color: black;\n"]))),Se=ge.b.button(c||(c=Object(me.a)(["\n  background: #cfccc2;\n  &:hover {\n    background: #ff711f;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),ze=ge.b.div(o||(o=Object(me.a)(["\n  color: red;\n"]))),Ce=function(e){var n=e.handleHabitSubmit,t=e.toggleHabitForm,r=Object(_.useRef)(null);Object(_.useEffect)((function(){r.current&&r.current.focus()}),[]);return Object(ve.jsx)("div",{children:Object(ve.jsx)(Oe.d,{initialValues:{habitName:""},validate:function(e){return function(e){var n=e.habitName,t={};return n?n.length>=30&&(t.username="Max length is 30 chars"):t.habitName="Please enter a habit name",t}(e)},onSubmit:function(e,t){t.setSubmitting;n(e)},children:function(e){e.isSubmitting,e.errors;return Object(ve.jsxs)(Oe.c,{children:[Object(ve.jsx)(ke,{children:Object(ve.jsx)(Oe.b,{type:"habitName",name:"habitName",placeholder:"Habit name",innerRef:r,"data-cy":"habit-input"})}),Object(ve.jsx)(Oe.a,{name:"username",component:ze}),Object(ve.jsxs)(ye,{children:[Object(ve.jsx)(we,{"data-cy":"habit-submit-btn","data-testid":"habit-submit",type:"submit",children:"Add"}),Object(ve.jsx)(Se,{"data-cy":"habit-form-close","data-testid":"habit-form-close-btn",onClick:t,children:"cancel"})]})]})}})})},Te="Simplify Success",Ue=function(e,n){var t=n||26;return e.length>t?e.substr(0,t).concat("..."):e},He=ge.b.div(s||(s=Object(me.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid black;\n  height: 180px;\n  width: 90%;\n"]))),De=Object(ge.b)(se.b)(d||(d=Object(me.a)(["\n  color: #000000;\n  width: 80%;\n"]))),Le=ge.b.button(l||(l=Object(me.a)(["\n  background: #fff870;\n  &:hover {\n    background: #a8ff36;\n  }\n  font-size: 0.9em;\n  /* padding: 0.25em 1em; */\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),Ae=ge.b.button(u||(u=Object(me.a)(["\n  &:hover {\n    background: #ff4141;\n  }\n  font-size: 0.9em;\n  /* padding: 0.25em 1em; */\n  margin: 0;\n  border: 2px solid #ff4141;\n  border-radius: 50%;\n  text-align: center;\n"]))),Ne=ge.b.div(b||(b=Object(me.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-evenly;\n  width: 80%;\n"]))),Ie=ge.b.div(p||(p=Object(me.a)(["\n  background: #73ff00;\n  color: black;\n  width: 50px;\n  font-size: 0.9em;\n  margin-top: 5px;\n  border: 2px solid #000000;\n  border-radius: 3px;\n  text-align: center;\n"]))),Pe=ge.b.div(h||(h=Object(me.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid #000000;\n  border-radius: 10px;\n  width: 50px;\n  height: 50px;\n  font-size: 0.9em;\n  color: black;\n"]))),Me=function(e){var n=e.habit,t=e.handleCompletion,r=e.handleCancelCompletion,a=Object(_.useState)(null),i=Object(oe.a)(a,2),c=i[0],o=i[1];if(Object(_.useEffect)((function(){n&&o(p(n.completions))}),[n,t]),!n)return null;var s,d,l=new Date,u={thisDay:l.getDate(),thisMonth:l.getMonth(),thisYear:l.getFullYear()},b=(s=n.completions,d=u,s.filter((function(e){return Object.keys(d).every((function(n){return e[n]===d[n]}))}))),p=function(e){var n=0;return Object(re.a)(e).reverse().forEach((function(e,t){var r;(new Date).setUTCHours(0,0,0,0)-new Date((r=e,"".concat(r.thisYear,"-").concat(r.thisMonth+1,"-").concat(r.thisDay+1))).setUTCHours(0,0,0,0)===864e5*t&&n++})),n};return Object(ve.jsxs)(He,{children:[Object(ve.jsx)(De,{"data-cy":"habit-link",to:"/habits/".concat(n.id),children:Ue(n.name)}),c&&c>1?Object(ve.jsxs)(Pe,{children:[Object(ve.jsx)("p",{style:{fontSize:"10px"},children:"Streak"}),c]}):Object(ve.jsx)(Pe,{style:{background:"none",border:"none"}}),b.length>0?Object(ve.jsxs)(Ne,{children:[Object(ve.jsx)(Ie,{children:"Done!"}),Object(ve.jsx)(Ae,{"data-cy":"cancel-done-btn",onClick:function(){return r(n)},children:"x"})]}):Object(ve.jsx)("div",{children:Object(ve.jsx)(Le,{"data-cy":"done-btn",onClick:function(){return t(n)},children:"Done for today!"})})]})},Re=t.p+"static/media/Habit-tracker-Logged-empty.7775ea4c.png",Ee=t.p+"static/media/Habit-tracker-habit-more-info.6b1b7129.png",Fe=t.p+"static/media/Habit-tracker-Logged-habits-big-img.be3e0e6f.png",Je=function(){var e=Object(ce.a)(ie.a.mark((function e(){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://quotes.rest/qod.json?category=inspire");case 3:return n=e.sent,e.abrupt("return",n.json());case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),qe=ge.b.div(j||(j=Object(me.a)(["\n  width: 50%;\n  margin: auto;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n"]))),Ve=Object(ge.b)(se.b)(f||(f=Object(me.a)(["\n  color: #63006e;\n  font-weight: bold;\n  margin-right: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 60px;\n  height: 30px;\n"]))),Ye=ge.b.p(x||(x=Object(me.a)(["\n  margin: auto;\n  margin-top: 20px;\n  margin-left: 10px;\n  margin-right: 10px;\n  text-align: center;\n  width: 60%;\n"]))),We=ge.b.p(m||(m=Object(me.a)(["\n  font-size: 20px;\n  width: 60%;\n  text-align: center;\n  margin: auto;\n  margin-top: 20px;\n  color: #fffc37;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  @media (min-width: 767px) {\n    font-size: 40px;\n  }\n"]))),Be=ge.b.p(g||(g=Object(me.a)(["\n  font-size: 30px;\n  width: 60%;\n  text-align: center;\n  margin: auto;\n  margin-top: 20px;\n  @media (min-width: 767px) {\n    font-size: 60px;\n  }\n"]))),Ge=ge.b.span(O||(O=Object(me.a)(["\n  text-decoration: underline;\n"]))),Ke=ge.b.span(v||(v=Object(me.a)(["\n  font-style: italic;\n"]))),Qe=ge.b.div(w||(w=Object(me.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background-color: teal;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n"]))),Xe=ge.b.div(y||(y=Object(me.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n"]))),Ze=ge.b.div(k||(k=Object(me.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 6%;\n  margin-top: 2%;\n"]))),$e={width:300,height:200,borderRadius:10},_e=function(){var e=Object(_.useState)(""),n=Object(oe.a)(e,2),t=n[0],r=n[1],a=Object(_.useState)(""),i=Object(oe.a)(a,2),c=i[0],o=i[1],s=function(){var e=Object(ce.a)(ie.a.mark((function e(){var n,t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je();case 3:if((n=e.sent).contents){e.next=6;break}return e.abrupt("return",null);case 6:return t={quote:n.contents.quotes[0].quote,author:n.contents.quotes[0].author},e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(_.useEffect)((function(){var e=!0;return function(){var n=Object(ce.a)(ie.a.mark((function n(){var t;return ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s();case 2:t=n.sent,e&&(r(null===t||void 0===t?void 0:t.quote),o(null===t||void 0===t?void 0:t.author));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!1}}),[]),Object(ve.jsxs)("div",{children:[Object(ve.jsxs)(Be,{children:["Did you know that the things that you do"," ",Object(ve.jsx)(Ge,{children:"repeatedly"})," construct your identity and determine the success that you are going to have?"]}),Object(ve.jsx)(We,{children:"Start tracking your habits now!"}),Object(ve.jsxs)(qe,{children:[Object(ve.jsx)(Ve,{"data-cy":"login-btn","data-testid":"login-btn",to:"/login",children:"Login"}),Object(ve.jsx)(Ve,{"data-cy":"signup-btn","data-testid":"signup-btn",to:"/signup",children:"Sign Up"})]}),t?Object(ve.jsx)(Ze,{children:Object(ve.jsxs)(Ye,{"data-testid":"quotePara",children:['"',Object(ve.jsx)(Ke,{children:t}),'" - ',c]})}):Object(ve.jsx)(Ze,{children:Object(ve.jsx)(Ye,{})}),Object(ve.jsx)("div",{style:{backgroundColor:"teal",borderTopLeftRadius:10,borderTopRightRadius:10},children:Object(ve.jsx)(We,{style:{color:"white",paddingBottom:"20px"},children:"This is how Habit Tracker works:"})}),Object(ve.jsxs)(Qe,{children:[Object(ve.jsxs)(Xe,{children:[Object(ve.jsx)(Ye,{style:{width:"150px"},children:"Log in and add a habit that you want to track"}),Object(ve.jsx)("img",{src:Re,alt:"Logged in view no habits",style:$e})]}),Object(ve.jsxs)(Xe,{children:[Object(ve.jsx)(Ye,{style:{width:"150px"},children:"View all your habits and mark them as done"}),Object(ve.jsx)("img",{src:Fe,alt:"Logged in view no habits",style:$e})]}),Object(ve.jsxs)(Xe,{children:[Object(ve.jsx)(Ye,{style:{width:"150px"},children:"View completed days in a calendar and delete habit if necessary"}),Object(ve.jsx)("img",{src:Ee,alt:"Logged in view no habits",style:Object(te.a)(Object(te.a)({},$e),{},{marginRight:"5px"})})]})]})]})},en=ge.b.div(S||(S=Object(me.a)(["\n  background: rgba(255, 255, 220, 0.8);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 300px;\n  padding: 10px;\n  margin: auto;\n  margin-bottom: 5%;\n  border-radius: 10px;\n"]))),nn=ge.b.p(z||(z=Object(me.a)(["\n  margin: auto;\n  margin-top: 20px;\n  text-shadow: 1px 1px;\n  text-align: center;\n  width: 60%;\n  padding: 0.25em 1em;\n"]))),tn=Object(ge.b)(nn)(C||(C=Object(me.a)(["\n  font-size: 20px;\n  color: #fffc37;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  @media (min-width: 767px) {\n    font-size: 40px;\n  }\n"]))),rn=Object(ge.b)(nn)(T||(T=Object(me.a)(["\n  font-size: 30px;\n  @media (min-width: 767px) {\n    font-size: 60px;\n  }\n"]))),an=ge.b.div(U||(U=Object(me.a)(["\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),cn=ge.b.button(H||(H=Object(me.a)(["\n  background: #f2f5b5;\n  &:hover {\n    background: #fff870;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),on=function(e){var n=e.loggedInUser,t=e.habitsToShow,r=e.handleHabitSubmit,a=e.handleCompletion,i=e.handleCancelCompletion,c=e.toggleHabitForm,o=e.showHabitForm;return n?Object(ve.jsxs)(an,{children:[o||0===n.habits.length?Object(ve.jsx)("div",{"data-testid":"habitForm-open-div",children:Object(ve.jsx)(Ce,{handleHabitSubmit:r,toggleHabitForm:c})}):Object(ve.jsx)(cn,{"data-cy":"habit-form-open-btn","data-testid":"habit-form-open-btn",onClick:c,children:"Add a new habit"}),t.length>0?Object(ve.jsx)(en,{"data-testid":"habit-div","data-cy":"habit-div",children:t.map((function(e){return Object(ve.jsx)(Me,{habit:e,handleCompletion:a,handleCancelCompletion:i},e.id)}))}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(rn,{children:"Add your first habit in the form above"}),Object(ve.jsx)(tn,{children:"Here are a few ideas if you need a spark:"}),Object(ve.jsx)(nn,{children:'"Physical exercise"'}),Object(ve.jsx)(nn,{children:'"Reading"'}),Object(ve.jsx)(nn,{children:'"Explore wikipedia"'}),Object(ve.jsx)(nn,{children:'"Practice magic tricks"'})]})]}):Object(ve.jsx)(_e,{})},sn=t(40),dn=ge.b.button(D||(D=Object(me.a)(["\n  background: #cfccc2;\n  &:hover {\n    background: #ff711f;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),ln=ge.b.div(L||(L=Object(me.a)(["\n  margin-top: 50px;\n"]))),un=ge.b.div(A||(A=Object(me.a)(["\n  margin-left: 2%;\n  max-width: 100%;\n"]))),bn=ge.b.div(N||(N=Object(me.a)(["\n  /* background: rgba(255, 255, 220, 0.8); */\n  width: 100px;\n  padding: 10px;\n  margin: auto;\n  text-align: center;\n"]))),pn=ge.b.div(I||(I=Object(me.a)(["\n  background: rgba(255, 234, 31, 0.8);\n  width: 170px;\n  padding: 10px;\n  margin: auto;\n  margin-bottom: 10px;\n  text-align: center;\n  color: black;\n"]))),hn=ge.b.h1(P||(P=Object(me.a)(["\n  color: rgb(255, 234, 31);\n  font-size: 2em;\n  text-align: center;\n"]))),jn=ge.b.p(M||(M=Object(me.a)(["\n  margin: auto;\n  margin-top: 20px;\n  text-shadow: 1px 1px;\n  text-align: center;\n  padding: 0.25em 1em;\n  color: black;\n"]))),fn=ge.b.p(R||(R=Object(me.a)(["\n  margin: auto;\n  margin-top: 20px;\n  text-shadow: 1px 1px;\n  text-align: center;\n  padding: 0.25em 1em;\n  color: black;\n  font-size: 10px;\n  font-style: italic;\n"]))),xn=function(e){var n=e.habit,t=e.handleRemove;if(!n)return null;var r=n.completions.length,a=n.completions.map((function(e){return[new Date(e.thisYear,e.thisMonth,e.thisDay),1]})),i=[[{type:"date",id:"Date"},{type:"number",id:"Completions"}]],c={title:Ue(n.name,45),noDataPattern:{backgroundColor:"#000000",color:"#000000"},colorAxis:{minValue:0,colors:["#00e5ff","#73ff00"]},calendar:{cellSize:25,cellColor:{stroke:"#e3e3e3",strokeOpacity:.5,strokeWidth:1},focusedCellColor:{stroke:"#d3362d",strokeOpacity:1,strokeWidth:1},monthLabel:{fontName:"Arial",fontSize:12,color:"#fad850",bold:!0,italic:!0},monthOutlineColor:{stroke:"#fad850",strokeOpacity:.8,strokeWidth:3},unusedMonthOutlineColor:{stroke:"#bc5679",strokeOpacity:.8,strokeWidth:2},underMonthSpace:16,underYearSpace:10,yearLabel:{fontName:"Arial",fontSize:32,color:"white",bold:!0}}};return i=i.concat(a),window.screen.width>767?Object(ve.jsxs)(ln,{children:[Object(ve.jsx)(un,{children:Object(ve.jsx)(sn.a,{width:"100%",height:350,chartType:"Calendar",loader:Object(ve.jsx)("div",{children:"Loading Chart"}),data:i,options:c,rootProps:{"data-testid":"1"}})}),Object(ve.jsxs)(pn,{children:["Times done: ",r]}),Object(ve.jsx)("div",{children:Object(ve.jsx)(dn,{"data-cy":"delete-btn",onClick:function(){return t(n)},children:"Delete"})})]}):Object(ve.jsxs)(ln,{children:[Object(ve.jsx)(hn,{children:Ue(n.name,45)}),Object(ve.jsxs)(pn,{children:["Times done: ",r]}),Object(ve.jsxs)(bn,{children:["Dates of success:",n.completions.map((function(e){return Object(ve.jsx)(jn,{children:"".concat(e.thisDay," ").concat(e.thisMonth," ").concat(e.thisYear)},"".concat(e.thisDay," ").concat(e.thisMonth," ").concat(e.thisYear))}))]}),Object(ve.jsx)("div",{children:Object(ve.jsx)(dn,{"data-cy":"delete-btn",onClick:function(){return t(n)},children:"Delete"})}),Object(ve.jsx)(fn,{children:"Please view on a bigger screen for more detailed view"})]})},mn=Object(ge.a)(E||(E=Object(me.a)(["\n  html {\n  min-height: 100%;\n  max-width: 100%;\n  overflow-x: none;\n  }\n  body {\n    margin: 0;\n    padding: 0;\n    min-height: 100%;\n    max-width: 100%;\n    background: linear-gradient(teal, purple);\n    font-family: Open-Sans, Helvetica, Sans-Serif;\n    color: #fafafa;\n    text-align: center;\n  }\n  a:link {\n    background: #fafafa;\n    &:hover {\n    background: #fffba8;\n  }\n  text-align: center;\n  vertical-align: center;\n  font-size: 1em;\n  margin: 0.5em;\n  padding: 1em 1em;\n  border: 2px solid black;\n  border-radius: 3px;\n  }\n  button {\n    background: #fafafa;\n  &:hover {\n    background: #fffba8;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n  }\n  input {\n  padding: 0.5em;\n  margin: 0.5em;\n  color: black;\n  background: #fffba8;\n  border: none;\n  border-radius: 3px;\n  box-sizing: border-box;\n  text-align: center;\n  }\n  h1 {\n    font-size: 20px;\n    @media (min-width: 767px) {\n    font-size: 200%;\n    }\n  }\n  h2 {\n    font-size: 40px;\n  }\n  h3 {\n    font-size: 30px;\n  }\n"]))),gn=ge.b.div(F||(F=Object(me.a)(["\n  margin: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),On=ge.b.button(J||(J=Object(me.a)([""]))),vn=ge.b.div(q||(q=Object(me.a)(["\n  margin: auto;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  background: rgba(255, 255, 220, 0.5);\n  text-align: center;\n  width: 220px;\n  height: 20%;\n  overflow: hidden;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  color: black;\n"]))),wn=ge.b.h3(V||(V=Object(me.a)(["\n  width: 200px;\n  margin: auto;\n  margin-bottom: 10px;\n  padding: 0.25em 1em;\n  text-align: center;\n"]))),yn=ge.b.div(Y||(Y=Object(me.a)(["\n  color: red;\n"]))),kn=function(e){var n=e.handleSignUpSubmit,t=e.handleLoginSubmit,r=Object(_.useRef)(null);Object(_.useEffect)((function(){r.current&&r.current.focus()}),[]);var a=function(e){var n=e.split("/");return e.lastIndexOf("/")!==e.length-1?n[n.length-1]:n[n.length-2]}(window.location.href),i={username:"",password:""},c=function(e){var n=e.username,t=e.password,r={};return n?n.length>=12?r.username="Max length is 12 characters":n.length<3&&(r.username="Username should be at least 3 characters"):r.username="Username is required!",t?t.length<5&&(r.password="Password should be at least 5 characters long"):r.password="Password is required!",r};switch(a){case"signup":return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(wn,{children:"Sign Up"}),Object(ve.jsx)("div",{children:Object(ve.jsx)(Oe.d,{initialValues:i,validate:function(e){return c(e)},onSubmit:function(e,t){t.setSubmitting;n(e)},children:function(e){e.isSubmitting,e.errors;return Object(ve.jsxs)(Oe.c,{children:[Object(ve.jsx)(vn,{children:Object(ve.jsx)(Oe.b,{type:"username",name:"username",placeholder:"Username",innerRef:r,"data-cy":"username-input"})}),Object(ve.jsx)(Oe.a,{name:"username",component:yn}),Object(ve.jsx)(vn,{children:Object(ve.jsx)(Oe.b,{type:"password",name:"password",placeholder:"Password","data-cy":"password-input"})}),Object(ve.jsx)(Oe.a,{name:"password",component:yn}),Object(ve.jsx)(gn,{children:Object(ve.jsx)(On,{type:"submit","data-cy":"submit-btn",children:"Submit"})})]})}})})]});case"login":return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(wn,{children:"Login"}),Object(ve.jsx)("div",{children:Object(ve.jsx)(Oe.d,{initialValues:i,validate:function(e){return c(e)},onSubmit:function(e,n){n.setSubmitting;t(e)},children:function(e){e.isSubmitting,e.errors;return Object(ve.jsxs)(Oe.c,{children:[Object(ve.jsx)(vn,{children:Object(ve.jsx)(Oe.b,{type:"username",name:"username",placeholder:"Username",innerRef:r,"data-cy":"username-input"})}),Object(ve.jsx)(Oe.a,{name:"username",component:yn}),Object(ve.jsx)(vn,{children:Object(ve.jsx)(Oe.b,{type:"password",name:"password",placeholder:"Password","data-cy":"password-input"})}),Object(ve.jsx)(Oe.a,{name:"password",component:yn}),Object(ve.jsx)(gn,{children:Object(ve.jsx)(On,{type:"submit","data-cy":"submit-btn",children:"Submit"})})]})}})})]});default:return null}},Sn=ge.b.div(W||(W=Object(me.a)(["\n  width: 50%;\n  margin: auto;\n  color: #000000;\n  background: #a1ff54;\n  font-size: 20px;\n  border-style: solid;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 10px;\n"]))),zn=ge.b.div(B||(B=Object(me.a)(["\n  width: 50%;\n  margin: auto;\n  color: #000000;\n  background: #ff711f;\n  font-size: 20px;\n  border-style: solid;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 10px;\n"]))),Cn=function(e){var n=e.successMessage,t=e.errorMessage;return n&&!t?Object(ve.jsx)(Sn,{children:n}):t&&!n?Object(ve.jsx)(zn,{children:t}):null},Tn=ge.b.div(G||(G=Object(me.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 30%;\n  /* background-color: #383838; */\n"]))),Un=ge.b.div(K||(K=Object(me.a)(["\n  display: flex;\n  flex-direction: column;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n  align-items: center;\n  justify-content: center;\n  width: 30%;\n"]))),Hn=ge.b.h1(Q||(Q=Object(me.a)(["\n  /* font-size: 200%; */\n  color: #fffc37;\n  text-shadow: 1px 1px black;\n"]))),Dn=ge.b.div(X||(X=Object(me.a)(["\n  margin-top: 10px;\n  text-align: center;\n  white-space: nowrap;\n  font-size: 10px;\n  @media (min-width: 767px) {\n    font-size: 20px;\n  }\n"]))),Ln=ge.b.button(Z||(Z=Object(me.a)(["\n  background: #fff870;\n  &:hover {\n    background: #85015d;\n  }\n  height: 30px;\n  width: 80px;\n  font-size: 0.6em;\n  @media (min-width: 767px) {\n    font-size: 0.9em;\n    margin: 1em;\n    padding: 0.25em 1em;\n    border: 2px solid #8f8d64;\n    border-radius: 3px;\n    text-align: center;\n    height: 30px;\n    width: 100px;\n  }\n"]))),An=Object(ge.b)(se.b)($||($=Object(me.a)(["\n  background: #cfccc2;\n  &:hover {\n    background: darkgray;\n  }\n  font-size: 0.9em;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"]))),Nn=function(e){var n=e.loggedInUser,t=e.handleLogout,r=function(e,n){var t=n.split("/");return"last"===e?n.lastIndexOf("/")!==n.length-1?t[t.length-1]:t[t.length-2]:"secondToLast"===e?n.lastIndexOf("/")!==n.length-1?t[t.length-2]:t[t.length-3]:void 0},a=r("secondToLast",window.location.href),i=r("last",window.location.href);return n?Object(ve.jsxs)(Tn,{children:[Object(ve.jsx)(Un,{children:"habits"===a?Object(ve.jsx)(An,{"data-cy":"back-btn",to:"/",children:"Back"}):null}),Object(ve.jsx)(Un,{children:Object(ve.jsx)(Hn,{children:Te})}),Object(ve.jsxs)(Un,{children:[Object(ve.jsxs)(Dn,{children:[n.username," logged in"]}),Object(ve.jsx)(Ln,{"data-cy":"logout-btn",onClick:t,children:"Log out"})]})]}):Object(ve.jsxs)(Tn,{children:[Object(ve.jsx)(Un,{children:"login"===i||"signup"===i?Object(ve.jsx)(An,{"data-cy":"back-btn",to:"/",children:"Back"}):null}),Object(ve.jsx)(Un,{children:Object(ve.jsx)(Hn,{children:Te})}),Object(ve.jsx)(Un,{})]})},In=function(){var e=Object(_.useState)([]),n=Object(oe.a)(e,2),t=n[0],r=n[1],a=Object(_.useState)(null),i=Object(oe.a)(a,2),c=i[0],o=i[1],s=Object(_.useState)(""),d=Object(oe.a)(s,2),l=d[0],u=d[1],b=Object(_.useState)(""),p=Object(oe.a)(b,2),h=p[0],j=p[1],f=Object(_.useState)(null),x=Object(oe.a)(f,2),m=x[0],g=x[1],O=Object(_.useState)(!1),v=Object(oe.a)(O,2),w=v[0],y=v[1];Object(_.useEffect)((function(){var e=window.localStorage.getItem("loggedHabitAppUser");if(e){var n=JSON.parse(e);o(n),r(n.habits),be(n.token)}}),[]);var k=function(){var e=Object(ce.a)(ie.a.mark((function e(n){var t,r,a,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.username,r=n.password,!((a={username:t,password:r}).password.length<5)){e.next=6;break}return u("Password must be at least five (5) characters long"),setTimeout((function(){u(null)}),3e3),e.abrupt("return");case 6:return e.prev=6,e.next=9,xe(a);case 9:if(!(i=e.sent).error){e.next=20;break}if(!i.error.includes("User validation failed: username: Error, expected `username` to be unique.")){e.next=15;break}return u("Username is already taken. Please choose another username."),setTimeout((function(){u(null)}),3e3),e.abrupt("return");case 15:if(!i.error.includes("is shorter than the minimum allowed length")||!i.error.includes("username")){e.next=19;break}return u("Username must be at least three (3) characters long"),setTimeout((function(){u(null)}),3e3),e.abrupt("return");case 19:return e.abrupt("return");case 20:i.username&&(g("/login"),g(null),j("A new user created! Please log in!"),setTimeout((function(){j(null)}),3e3)),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),console.log("exception",e.t0);case 26:case"end":return e.stop()}}),e,null,[[6,23]])})));return function(n){return e.apply(this,arguments)}}(),S=function(){var e=Object(ce.a)(ie.a.mark((function e(n){var t,a,i,c;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username,a=n.password,i={username:t,password:a},e.prev=2,e.next=5,fe(i);case 5:(c=e.sent).error&&"INVALID USERNAME OR PASSWORD"===c.error.toUpperCase()&&(u("Wrong username or password"),setTimeout((function(){u(null)}),3e3)),c.username&&(window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(c)),be(c.token),o(c),r(c.habits),g("/"),g(null)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),z=function(){window.localStorage.clear(),o(null),r([]),g("/"),g(null)},C=function(){var e=Object(ce.a)(ie.a.mark((function e(n){var a,i,o;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.habitName,e.prev=1,i={name:a},e.next=5,pe(i);case 5:if(!(o=e.sent).error){e.next=12;break}if(!o.error.includes("is shorter than the minimum allowed length")){e.next=11;break}return u("Minimum length for a habit name is two (2) characters."),setTimeout((function(){u(null)}),3e3),e.abrupt("return");case 11:return e.abrupt("return");case 12:o.name&&c&&(r([].concat(Object(re.a)(t),[o])),c.habits=c.habits.concat(o),y(!1),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(c))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n){return e.apply(this,arguments)}}(),T=function(){y(!w)},U=function(){var e=Object(ce.a)(ie.a.mark((function e(n){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Do you want to delete habit: ".concat(n.name,"?"))){e.next=13;break}return e.prev=1,e.next=4,he(n);case 4:r(t.filter((function(e){return e.id!==n.id}))),c&&(c.habits=c.habits.filter((function(e){return e.id!==n.id})),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(c)),j("Habit deleted"),setTimeout((function(){j(null)}),3e3),g("/"),g(null)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),u("Habit deletion failed"),setTimeout((function(){u(null)}),3e3);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=Object(ce.a)(ie.a.mark((function e(n){var a,i,o,s,d,l,b;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",u("User not logged in"));case 2:return a=new Date,i=a.getDate(),o=a.getMonth(),s=a.getFullYear(),d={thisDay:i,thisMonth:o,thisYear:s},l=Object(te.a)(Object(te.a)({},n),{},{completions:n.completions.concat(d)}),e.prev=8,e.next=11,je(l);case 11:b=e.sent,r(t.map((function(e){return e.id===b.id?b:e}))),c.habits=c.habits.map((function(e){return e.id===b.id?b:e})),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(c)),j("Completion added!"),setTimeout((function(){j(null)}),3e3),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(8),console.log(e.t0),u("Adding completion failed."),setTimeout((function(){u(null)}),3e3);case 24:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=Object(ce.a)(ie.a.mark((function e(n){var a,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",u("User not logged in"));case 2:return n.completions.splice(n.completions.length-1,1),a=Object(te.a)({},n),e.prev=4,e.next=7,je(a);case 7:i=e.sent,r(t.map((function(e){return e.id===i.id?i:e}))),c.habits=c.habits.map((function(e){return e.id===i.id?i:e})),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(c)),j("Completion cancelled!"),setTimeout((function(){j(null)}),3e3),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0),u("Adding completion failed."),setTimeout((function(){u(null)}),3e3);case 20:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(n){return e.apply(this,arguments)}}();return Object(ve.jsxs)("div",{children:[Object(ve.jsx)(mn,{}),Object(ve.jsx)(Cn,{errorMessage:l,successMessage:h}),Object(ve.jsx)(se.a,{children:Object(ve.jsxs)(de.d,{children:[Object(ve.jsx)(de.b,{exact:!0,path:"/",render:function(){return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Nn,{loggedInUser:c,handleLogout:z}),Object(ve.jsx)(on,{habitsToShow:t,handleCompletion:H,handleCancelCompletion:D,toggleHabitForm:T,showHabitForm:w,loggedInUser:c,handleHabitSubmit:C})]})}}),Object(ve.jsx)(de.b,{exact:!0,path:"/signup",render:function(){return m?Object(ve.jsx)(de.a,{to:m}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Nn,{loggedInUser:c,handleLogout:z}),Object(ve.jsx)(kn,{handleLoginSubmit:S,handleSignUpSubmit:k})]})}}),Object(ve.jsx)(de.b,{exact:!0,path:"/login",render:function(){return m?Object(ve.jsx)(de.a,{to:m}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Nn,{loggedInUser:c,handleLogout:z}),Object(ve.jsx)(kn,{handleLoginSubmit:S,handleSignUpSubmit:k})]})}}),Object(ve.jsx)(de.b,{path:"/habits/:id",render:function(e){var n,r=e.match;return m?Object(ve.jsx)(de.a,{to:m}):Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Nn,{loggedInUser:c,handleLogout:z}),Object(ve.jsx)(xn,{habit:(n=r.params.id,t.find((function(e){return e.id===n}))),handleRemove:U})]})}}),Object(ve.jsx)(de.b,{render:function(){return Object(ve.jsx)(de.a,{to:{pathname:"/"}})}})]})})]})};ne.a.render(Object(ve.jsx)(In,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.4e26a0a3.chunk.js.map