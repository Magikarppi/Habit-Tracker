(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{46:function(e,n,t){},48:function(e,n,t){},59:function(e,n,t){"use strict";t.r(n);var r,a,i,c,o,s,d,l,b,u,p,h,j,f,x,m,g,O,v,w,y,k,S,z,T,U,C,H,D,L,N,P,A,I,M,R,E,F,q,J,V,Y,W,B,G,K,Q,X,Z=t(0),$=t(34),_=t.n($),ee=(t(46),t(21)),ne=t(26),te=t(4),re=t.n(te),ae=t(7),ie=t(13),ce=t(17),oe=t(5),se=(t(48),"/api/habits"),de=void 0,le=function(e){de="bearer ".concat(e)},be=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,(t=new Headers).append("Content-Type","application/json"),t.append("Authorization",de),e.next=8,fetch(se,{method:"POST",body:JSON.stringify(n),headers:t});case 8:return r=e.sent,e.abrupt("return",r.json());case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(ae.a)(re.a.mark((function e(n){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(se,"/").concat(n.id),{method:"DELETE"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,(t=new Headers).append("Content-Type","application/json"),t.append("Authorization",de),e.next=8,fetch("".concat(se,"/").concat(n.id),{method:"PUT",body:JSON.stringify(n),headers:t});case 8:return r=e.sent,e.abrupt("return",r.json());case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),he=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),je=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/users",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),fe=t(2),xe=t(3),me=t(9),ge=t(1),Oe=xe.b.button(r||(r=Object(fe.a)(["\n  background: #fffba8;\n  &:hover {\n    background: #fff870;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),ve=xe.b.div(a||(a=Object(fe.a)(["\n  margin: auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),we=xe.b.div(i||(i=Object(fe.a)(["\n  margin: auto;\n  margin-bottom: 10px;\n  background: rgba(255, 255, 220, 0.5);\n  text-align: center;\n  width: 200px;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  color: black;\n"]))),ye=xe.b.button(c||(c=Object(fe.a)(["\n  background: #cfccc2;\n  &:hover {\n    background: #ff711f;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),ke=xe.b.div(o||(o=Object(fe.a)(["\n  color: red;\n"]))),Se=function(e){var n=e.handleHabitSubmit,t=e.toggleHabitForm,r=Object(Z.useRef)(null);Object(Z.useEffect)((function(){r.current&&r.current.focus()}),[]);return Object(ge.jsx)("div",{children:Object(ge.jsx)(me.d,{initialValues:{habitName:""},validate:function(e){return function(e){var n=e.habitName,t={};return n?n.length>=30&&(t.username="Max length is 30 chars"):t.habitName="Please enter a habit name",t}(e)},onSubmit:function(e,t){t.setSubmitting;n(e)},children:function(e){e.isSubmitting,e.errors;return Object(ge.jsxs)(me.c,{children:[Object(ge.jsx)(we,{children:Object(ge.jsx)(me.b,{type:"habitName",name:"habitName",placeholder:"Habit name",innerRef:r,"data-cy":"habit-input"})}),Object(ge.jsx)(me.a,{name:"username",component:ke}),Object(ge.jsxs)(ve,{children:[Object(ge.jsx)(Oe,{"data-cy":"habit-submit-btn","data-testid":"habit-submit",type:"submit",children:"Add"}),Object(ge.jsx)(ye,{"data-cy":"habit-form-close","data-testid":"habit-form-close-btn",onClick:t,children:"cancel"})]})]})}})})},ze="Simplify Success",Te=function(e,n){var t=n||26;return e.length>t?e.substr(0,t).concat("..."):e},Ue=xe.b.div(s||(s=Object(fe.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid black;\n  height: 180px;\n  width: 90%;\n"]))),Ce=Object(xe.b)(ce.b)(d||(d=Object(fe.a)(["\n  color: #000000;\n  width: 80%;\n"]))),He=xe.b.button(l||(l=Object(fe.a)(["\n  background: #fff870;\n  &:hover {\n    background: #a8ff36;\n  }\n  font-size: 0.9em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),De=xe.b.div(b||(b=Object(fe.a)(["\n  background: #73ff00;\n  color: black;\n  width: 50px;\n  font-size: 0.9em;\n  margin-top: 5px;\n  border: 2px solid #000000;\n  border-radius: 3px;\n  text-align: center;\n"]))),Le=xe.b.div(u||(u=Object(fe.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid #000000;\n  border-radius: 10px;\n  width: 50px;\n  height: 50px;\n  font-size: 0.9em;\n  color: black;\n"]))),Ne=function(e){var n=e.habit,t=e.handleCompletion,r=Object(Z.useState)(null),a=Object(ie.a)(r,2),i=a[0],c=a[1];if(Object(Z.useEffect)((function(){n&&c(u(n.completions))}),[n,t]),!n)return null;var o,s,d=new Date,l={thisDay:d.getDate(),thisMonth:d.getMonth(),thisYear:d.getFullYear()},b=(o=n.completions,s=l,o.filter((function(e){return Object.keys(s).every((function(n){return e[n]===s[n]}))}))),u=function(e){var n=0;return Object(ne.a)(e).reverse().forEach((function(e,t){var r;(new Date).setUTCHours(0,0,0,0)-new Date((r=e,"".concat(r.thisYear,"-").concat(r.thisMonth+1,"-").concat(r.thisDay+1))).setUTCHours(0,0,0,0)===864e5*t&&n++})),n};return Object(ge.jsxs)(Ue,{children:[Object(ge.jsx)(Ce,{"data-cy":"habit-link",to:"/habits/".concat(n.id),children:Te(n.name)}),i&&i>1?Object(ge.jsxs)(Le,{children:[Object(ge.jsx)("p",{style:{fontSize:"10px"},children:"Streak"}),i]}):Object(ge.jsx)(Le,{style:{background:"none",border:"none"}}),b.length>0?Object(ge.jsx)(De,{children:"Done!"}):Object(ge.jsx)("div",{children:Object(ge.jsx)(He,{"data-cy":"done-btn",onClick:function(){return t(n)},children:"Done for today!"})})]})},Pe=t.p+"static/media/Habit-tracker-Logged-empty.7775ea4c.png",Ae=t.p+"static/media/Habit-tracker-habit-more-info.6b1b7129.png",Ie=t.p+"static/media/Habit-tracker-Logged-habits-big-img.be3e0e6f.png",Me=function(){var e=Object(ae.a)(re.a.mark((function e(){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://quotes.rest/qod.json?category=inspire");case 3:return n=e.sent,e.abrupt("return",n.json());case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Re=xe.b.div(p||(p=Object(fe.a)(["\n  width: 50%;\n  margin: auto;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n"]))),Ee=Object(xe.b)(ce.b)(h||(h=Object(fe.a)(["\n  color: #63006e;\n  font-weight: bold;\n  margin-right: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 60px;\n  height: 30px;\n"]))),Fe=xe.b.p(j||(j=Object(fe.a)(["\n  margin: auto;\n  margin-top: 20px;\n  margin-left: 10px;\n  margin-right: 10px;\n  text-align: center;\n  width: 60%;\n"]))),qe=xe.b.p(f||(f=Object(fe.a)(["\n  font-size: 20px;\n  width: 60%;\n  text-align: center;\n  margin: auto;\n  margin-top: 20px;\n  color: #fffc37;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  @media (min-width: 767px) {\n    font-size: 40px;\n  }\n"]))),Je=xe.b.p(x||(x=Object(fe.a)(["\n  font-size: 30px;\n  width: 60%;\n  text-align: center;\n  margin: auto;\n  margin-top: 20px;\n  @media (min-width: 767px) {\n    font-size: 60px;\n  }\n"]))),Ve=xe.b.span(m||(m=Object(fe.a)(["\n  text-decoration: underline;\n"]))),Ye=xe.b.span(g||(g=Object(fe.a)(["\n  font-style: italic;\n"]))),We=xe.b.div(O||(O=Object(fe.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background-color: teal;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n"]))),Be=xe.b.div(v||(v=Object(fe.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n"]))),Ge=xe.b.div(w||(w=Object(fe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 6%;\n  margin-top: 2%;\n"]))),Ke={width:300,height:200,borderRadius:10},Qe=function(){var e=Object(Z.useState)(""),n=Object(ie.a)(e,2),t=n[0],r=n[1],a=Object(Z.useState)(""),i=Object(ie.a)(a,2),c=i[0],o=i[1],s=function(){var e=Object(ae.a)(re.a.mark((function e(){var n,t;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me();case 3:if((n=e.sent).contents){e.next=6;break}return e.abrupt("return",null);case 6:return t={quote:n.contents.quotes[0].quote,author:n.contents.quotes[0].author},e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(Z.useEffect)((function(){var e=!0;return function(){var n=Object(ae.a)(re.a.mark((function n(){var t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s();case 2:t=n.sent,e&&(r(null===t||void 0===t?void 0:t.quote),o(null===t||void 0===t?void 0:t.author));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!1}}),[]),Object(ge.jsxs)("div",{children:[Object(ge.jsxs)(Je,{children:["Did you know that the things that you do"," ",Object(ge.jsx)(Ve,{children:"repeatedly"})," construct your identity and determine the success that you are going to have?"]}),Object(ge.jsx)(qe,{children:"Start tracking your habits now!"}),Object(ge.jsxs)(Re,{children:[Object(ge.jsx)(Ee,{"data-cy":"login-btn","data-testid":"login-btn",to:"/login",children:"Login"}),Object(ge.jsx)(Ee,{"data-cy":"signup-btn","data-testid":"signup-btn",to:"/signup",children:"Sign Up"})]}),t?Object(ge.jsx)(Ge,{children:Object(ge.jsxs)(Fe,{"data-testid":"quotePara",children:['"',Object(ge.jsx)(Ye,{children:t}),'" - ',c]})}):Object(ge.jsx)(Ge,{children:Object(ge.jsx)(Fe,{})}),Object(ge.jsx)("div",{style:{backgroundColor:"teal",borderTopLeftRadius:10,borderTopRightRadius:10},children:Object(ge.jsx)(qe,{style:{color:"white",paddingBottom:"20px"},children:"This is how Habit Tracker works:"})}),Object(ge.jsxs)(We,{children:[Object(ge.jsxs)(Be,{children:[Object(ge.jsx)(Fe,{style:{width:"150px"},children:"Log in and add a habit that you want to track"}),Object(ge.jsx)("img",{src:Pe,alt:"Logged in view no habits",style:Ke})]}),Object(ge.jsxs)(Be,{children:[Object(ge.jsx)(Fe,{style:{width:"150px"},children:"View all your habits and mark them as done"}),Object(ge.jsx)("img",{src:Ie,alt:"Logged in view no habits",style:Ke})]}),Object(ge.jsxs)(Be,{children:[Object(ge.jsx)(Fe,{style:{width:"150px"},children:"View completed days in a calendar and delete habit if necessary"}),Object(ge.jsx)("img",{src:Ae,alt:"Logged in view no habits",style:Object(ee.a)(Object(ee.a)({},Ke),{},{marginRight:"5px"})})]})]})]})},Xe=xe.b.div(y||(y=Object(fe.a)(["\n  background: rgba(255, 255, 220, 0.8);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 300px;\n  padding: 10px;\n  margin: auto;\n  margin-bottom: 5%;\n  border-radius: 10px;\n"]))),Ze=xe.b.p(k||(k=Object(fe.a)(["\n  margin: auto;\n  margin-top: 20px;\n  text-shadow: 1px 1px;\n  text-align: center;\n  width: 60%;\n  padding: 0.25em 1em;\n"]))),$e=Object(xe.b)(Ze)(S||(S=Object(fe.a)(["\n  font-size: 20px;\n  color: #fffc37;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  @media (min-width: 767px) {\n    font-size: 40px;\n  }\n"]))),_e=Object(xe.b)(Ze)(z||(z=Object(fe.a)(["\n  font-size: 30px;\n  @media (min-width: 767px) {\n    font-size: 60px;\n  }\n"]))),en=xe.b.div(T||(T=Object(fe.a)(["\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),nn=xe.b.button(U||(U=Object(fe.a)(["\n  background: #f2f5b5;\n  &:hover {\n    background: #fff870;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),tn=function(e){var n=e.loggedInUser,t=e.habitsToShow,r=e.handleHabitSubmit,a=e.handleCompletion,i=e.toggleHabitForm,c=e.showHabitForm;return n?Object(ge.jsxs)(en,{children:[c||0===n.habits.length?Object(ge.jsx)("div",{"data-testid":"habitForm-open-div",children:Object(ge.jsx)(Se,{handleHabitSubmit:r,toggleHabitForm:i})}):Object(ge.jsx)(nn,{"data-cy":"habit-form-open-btn","data-testid":"habit-form-open-btn",onClick:i,children:"Add a new habit"}),t.length>0?Object(ge.jsx)(Xe,{"data-testid":"habit-div","data-cy":"habit-div",children:t.map((function(e){return Object(ge.jsx)(Ne,{habit:e,handleCompletion:a},e.id)}))}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(_e,{children:"Add your first habit in the form above"}),Object(ge.jsx)($e,{children:"Here are a few ideas if you need a spark:"}),Object(ge.jsx)(Ze,{children:'"Physical exercise"'}),Object(ge.jsx)(Ze,{children:'"Reading"'}),Object(ge.jsx)(Ze,{children:'"Explore wikipedia"'}),Object(ge.jsx)(Ze,{children:'"Practice magic tricks"'})]})]}):Object(ge.jsx)(Qe,{})},rn=t(40),an=xe.b.button(C||(C=Object(fe.a)(["\n  background: #cfccc2;\n  &:hover {\n    background: #ff711f;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n"]))),cn=xe.b.div(H||(H=Object(fe.a)(["\n  margin-top: 50px;\n"]))),on=xe.b.div(D||(D=Object(fe.a)(["\n  margin-left: 2%;\n  max-width: 100%;\n"]))),sn=xe.b.div(L||(L=Object(fe.a)(["\n  /* background: rgba(255, 255, 220, 0.8); */\n  width: 100px;\n  padding: 10px;\n  margin: auto;\n  text-align: center;\n"]))),dn=xe.b.div(N||(N=Object(fe.a)(["\n  background: rgba(255, 234, 31, 0.8);\n  width: 170px;\n  padding: 10px;\n  margin: auto;\n  margin-bottom: 10px;\n  text-align: center;\n  color: black;\n"]))),ln=xe.b.h1(P||(P=Object(fe.a)(["\n  color: rgb(255, 234, 31);\n  font-size: 2em;\n  text-align: center;\n"]))),bn=xe.b.p(A||(A=Object(fe.a)(["\n  margin: auto;\n  margin-top: 20px;\n  text-shadow: 1px 1px;\n  text-align: center;\n  padding: 0.25em 1em;\n  color: black;\n"]))),un=xe.b.p(I||(I=Object(fe.a)(["\n  margin: auto;\n  margin-top: 20px;\n  text-shadow: 1px 1px;\n  text-align: center;\n  padding: 0.25em 1em;\n  color: black;\n  font-size: 10px;\n  font-style: italic;\n"]))),pn=function(e){var n=e.habit,t=e.handleRemove;if(!n)return null;var r=n.completions.length,a=n.completions.map((function(e){return[new Date(e.thisYear,e.thisMonth,e.thisDay),1]})),i=[[{type:"date",id:"Date"},{type:"number",id:"Completions"}]],c={title:Te(n.name,45),noDataPattern:{backgroundColor:"#000000",color:"#000000"},colorAxis:{minValue:0,colors:["#00e5ff","#73ff00"]},calendar:{cellSize:25,cellColor:{stroke:"#e3e3e3",strokeOpacity:.5,strokeWidth:1},focusedCellColor:{stroke:"#d3362d",strokeOpacity:1,strokeWidth:1},monthLabel:{fontName:"Arial",fontSize:12,color:"#fad850",bold:!0,italic:!0},monthOutlineColor:{stroke:"#fad850",strokeOpacity:.8,strokeWidth:3},unusedMonthOutlineColor:{stroke:"#bc5679",strokeOpacity:.8,strokeWidth:2},underMonthSpace:16,underYearSpace:10,yearLabel:{fontName:"Arial",fontSize:32,color:"white",bold:!0}}};return i=i.concat(a),window.screen.width>767?Object(ge.jsxs)(cn,{children:[Object(ge.jsx)(on,{children:Object(ge.jsx)(rn.a,{width:"100%",height:350,chartType:"Calendar",loader:Object(ge.jsx)("div",{children:"Loading Chart"}),data:i,options:c,rootProps:{"data-testid":"1"}})}),Object(ge.jsxs)(dn,{children:["Times done: ",r]}),Object(ge.jsx)("div",{children:Object(ge.jsx)(an,{"data-cy":"delete-btn",onClick:function(){return t(n)},children:"Delete"})})]}):Object(ge.jsxs)(cn,{children:[Object(ge.jsx)(ln,{children:Te(n.name,45)}),Object(ge.jsxs)(dn,{children:["Times done: ",r]}),Object(ge.jsxs)(sn,{children:["Dates of success:",n.completions.map((function(e){return Object(ge.jsx)(bn,{children:"".concat(e.thisDay," ").concat(e.thisMonth," ").concat(e.thisYear)},"".concat(e.thisDay," ").concat(e.thisMonth," ").concat(e.thisYear))}))]}),Object(ge.jsx)("div",{children:Object(ge.jsx)(an,{"data-cy":"delete-btn",onClick:function(){return t(n)},children:"Delete"})}),Object(ge.jsx)(un,{children:"Please view on a bigger screen for more detailed view"})]})},hn=Object(xe.a)(M||(M=Object(fe.a)(["\n  html {\n  min-height: 100%;\n  max-width: 100%;\n  overflow-x: none;\n  }\n  body {\n    margin: 0;\n    padding: 0;\n    min-height: 100%;\n    max-width: 100%;\n    background: linear-gradient(teal, purple);\n    font-family: Open-Sans, Helvetica, Sans-Serif;\n    color: #fafafa;\n    text-align: center;\n  }\n  a:link {\n    background: #fafafa;\n    &:hover {\n    background: #fffba8;\n  }\n  text-align: center;\n  vertical-align: center;\n  font-size: 1em;\n  margin: 0.5em;\n  padding: 1em 1em;\n  border: 2px solid black;\n  border-radius: 3px;\n  }\n  button {\n    background: #fafafa;\n  &:hover {\n    background: #fffba8;\n  }\n  font-size: 0.9em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  text-align: center;\n  }\n  input {\n  padding: 0.5em;\n  margin: 0.5em;\n  color: black;\n  background: #fffba8;\n  border: none;\n  border-radius: 3px;\n  box-sizing: border-box;\n  text-align: center;\n  }\n  h1 {\n    font-size: 20px;\n    @media (min-width: 767px) {\n    font-size: 200%;\n    }\n  }\n  h2 {\n    font-size: 40px;\n  }\n  h3 {\n    font-size: 30px;\n  }\n"]))),jn=xe.b.div(R||(R=Object(fe.a)(["\n  margin: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),fn=xe.b.button(E||(E=Object(fe.a)([""]))),xn=xe.b.div(F||(F=Object(fe.a)(["\n  margin: auto;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  background: rgba(255, 255, 220, 0.5);\n  text-align: center;\n  width: 200px;\n  border: 2px solid #8f8d64;\n  border-radius: 3px;\n  color: black;\n"]))),mn=xe.b.h3(q||(q=Object(fe.a)(["\n  width: 200px;\n  margin: auto;\n  margin-bottom: 10px;\n  padding: 0.25em 1em;\n  text-align: center;\n"]))),gn=xe.b.div(J||(J=Object(fe.a)(["\n  color: red;\n"]))),On=function(e){var n=e.handleSignUpSubmit,t=e.handleLoginSubmit,r=Object(Z.useRef)(null);Object(Z.useEffect)((function(){r.current&&r.current.focus()}),[]);var a=function(e){var n=e.split("/");return e.lastIndexOf("/")!==e.length-1?n[n.length-1]:n[n.length-2]}(window.location.href),i={username:"",password:""},c=function(e){var n=e.username,t=e.password,r={};return n?n.length>=12?r.username="Max length is 12 characters":n.length<3&&(r.username="Username should be at least 3 characters"):r.username="Username is required!",t?t.length<5&&(r.password="Password should be at least 5 characters long"):r.password="Password is required!",r};switch(a){case"signup":return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(mn,{children:"Sign Up"}),Object(ge.jsx)("div",{children:Object(ge.jsx)(me.d,{initialValues:i,validate:function(e){return c(e)},onSubmit:function(e,t){t.setSubmitting;n(e)},children:function(e){e.isSubmitting,e.errors;return Object(ge.jsxs)(me.c,{children:[Object(ge.jsx)(xn,{children:Object(ge.jsx)(me.b,{type:"username",name:"username",placeholder:"Username",innerRef:r,"data-cy":"username-input"})}),Object(ge.jsx)(me.a,{name:"username",component:gn}),Object(ge.jsx)(xn,{children:Object(ge.jsx)(me.b,{type:"password",name:"password",placeholder:"Password","data-cy":"password-input"})}),Object(ge.jsx)(me.a,{name:"password",component:gn}),Object(ge.jsx)(jn,{children:Object(ge.jsx)(fn,{type:"submit","data-cy":"submit-btn",children:"Submit"})})]})}})})]});case"login":return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(mn,{children:"Login"}),Object(ge.jsx)("div",{children:Object(ge.jsx)(me.d,{initialValues:i,validate:function(e){return c(e)},onSubmit:function(e,n){n.setSubmitting;t(e)},children:function(e){e.isSubmitting,e.errors;return Object(ge.jsxs)(me.c,{children:[Object(ge.jsx)(xn,{children:Object(ge.jsx)(me.b,{type:"username",name:"username",placeholder:"Username",innerRef:r,"data-cy":"username-input"})}),Object(ge.jsx)(me.a,{name:"username",component:gn}),Object(ge.jsx)(xn,{children:Object(ge.jsx)(me.b,{type:"password",name:"password",placeholder:"Password","data-cy":"password-input"})}),Object(ge.jsx)(me.a,{name:"password",component:gn}),Object(ge.jsx)(jn,{children:Object(ge.jsx)(fn,{type:"submit","data-cy":"submit-btn",children:"Submit"})})]})}})})]});default:return null}},vn=xe.b.div(V||(V=Object(fe.a)(["\n  width: 50%;\n  margin: auto;\n  color: #000000;\n  background: #a1ff54;\n  font-size: 20px;\n  border-style: solid;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 10px;\n"]))),wn=xe.b.div(Y||(Y=Object(fe.a)(["\n  width: 50%;\n  margin: auto;\n  color: #000000;\n  background: #ff711f;\n  font-size: 20px;\n  border-style: solid;\n  border-radius: 5px;\n  padding: 10px;\n  margin-bottom: 10px;\n"]))),yn=function(e){var n=e.successMessage,t=e.errorMessage;return n&&!t?Object(ge.jsx)(vn,{children:n}):t&&!n?Object(ge.jsx)(wn,{children:t}):null},kn=xe.b.div(W||(W=Object(fe.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 30%;\n  /* background-color: #383838; */\n"]))),Sn=xe.b.div(B||(B=Object(fe.a)(["\n  display: flex;\n  flex-direction: column;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n  align-items: center;\n  justify-content: center;\n  width: 30%;\n"]))),zn=xe.b.h1(G||(G=Object(fe.a)(["\n  /* font-size: 200%; */\n  color: #fffc37;\n  text-shadow: 1px 1px black;\n"]))),Tn=xe.b.div(K||(K=Object(fe.a)(["\n  margin-top: 10px;\n  text-align: center;\n  white-space: nowrap;\n  font-size: 10px;\n  @media (min-width: 767px) {\n    font-size: 20px;\n  }\n"]))),Un=xe.b.button(Q||(Q=Object(fe.a)(["\n  background: #fff870;\n  &:hover {\n    background: #85015d;\n  }\n  height: 30px;\n  width: 80px;\n  font-size: 0.6em;\n  @media (min-width: 767px) {\n    font-size: 0.9em;\n    margin: 1em;\n    padding: 0.25em 1em;\n    border: 2px solid #8f8d64;\n    border-radius: 3px;\n    text-align: center;\n    height: 30px;\n    width: 100px;\n  }\n"]))),Cn=Object(xe.b)(ce.b)(X||(X=Object(fe.a)(["\n  background: #cfccc2;\n  &:hover {\n    background: darkgray;\n  }\n  font-size: 0.9em;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n"]))),Hn=function(e){var n=e.loggedInUser,t=e.handleLogout,r=function(e,n){var t=n.split("/");return"last"===e?n.lastIndexOf("/")!==n.length-1?t[t.length-1]:t[t.length-2]:"secondToLast"===e?n.lastIndexOf("/")!==n.length-1?t[t.length-2]:t[t.length-3]:void 0},a=r("secondToLast",window.location.href),i=r("last",window.location.href);return n?Object(ge.jsxs)(kn,{children:[Object(ge.jsx)(Sn,{children:"habits"===a?Object(ge.jsx)(Cn,{"data-cy":"back-btn",to:"/",children:"Back"}):null}),Object(ge.jsx)(Sn,{children:Object(ge.jsx)(zn,{children:ze})}),Object(ge.jsxs)(Sn,{children:[Object(ge.jsxs)(Tn,{children:[n.username," logged in"]}),Object(ge.jsx)(Un,{"data-cy":"logout-btn",onClick:t,children:"Log out"})]})]}):Object(ge.jsxs)(kn,{children:[Object(ge.jsx)(Sn,{children:"login"===i||"signup"===i?Object(ge.jsx)(Cn,{"data-cy":"back-btn",to:"/",children:"Back"}):null}),Object(ge.jsx)(Sn,{children:Object(ge.jsx)(zn,{children:ze})}),Object(ge.jsx)(Sn,{})]})},Dn=function(){var e=Object(Z.useState)([]),n=Object(ie.a)(e,2),t=n[0],r=n[1],a=Object(Z.useState)(null),i=Object(ie.a)(a,2),c=i[0],o=i[1],s=Object(Z.useState)(""),d=Object(ie.a)(s,2),l=d[0],b=d[1],u=Object(Z.useState)(""),p=Object(ie.a)(u,2),h=p[0],j=p[1],f=Object(Z.useState)(null),x=Object(ie.a)(f,2),m=x[0],g=x[1],O=Object(Z.useState)(!1),v=Object(ie.a)(O,2),w=v[0],y=v[1];Object(Z.useEffect)((function(){var e=window.localStorage.getItem("loggedHabitAppUser");if(e){var n=JSON.parse(e);o(n),r(n.habits),le(n.token)}}),[]);var k=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t,r,a,i;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.username,r=n.password,!((a={username:t,password:r}).password.length<5)){e.next=6;break}return b("Password must be at least five (5) characters long"),setTimeout((function(){b(null)}),4e3),e.abrupt("return");case 6:return e.prev=6,e.next=9,je(a);case 9:if(!(i=e.sent).error){e.next=20;break}if(!i.error.includes("User validation failed: username: Error, expected `username` to be unique.")){e.next=15;break}return b("Username is already taken. Please choose another username."),setTimeout((function(){b(null)}),4e3),e.abrupt("return");case 15:if(!i.error.includes("is shorter than the minimum allowed length")||!i.error.includes("username")){e.next=19;break}return b("Username must be at least three (3) characters long"),setTimeout((function(){b(null)}),4e3),e.abrupt("return");case 19:return e.abrupt("return");case 20:i.username&&(g("/login"),g(null),j("A new user created! Please log in!"),setTimeout((function(){j(null)}),4e3)),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),console.log("exception",e.t0);case 26:case"end":return e.stop()}}),e,null,[[6,23]])})));return function(n){return e.apply(this,arguments)}}(),S=function(){var e=Object(ae.a)(re.a.mark((function e(n){var t,a,i,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username,a=n.password,i={username:t,password:a},e.prev=2,e.next=5,he(i);case 5:(c=e.sent).error&&"INVALID USERNAME OR PASSWORD"===c.error.toUpperCase()&&(b("Wrong username or password"),setTimeout((function(){b(null)}),4e3)),c.username&&(window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(c)),le(c.token),o(c),r(c.habits),g("/"),g(null)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),z=function(){window.localStorage.clear(),o(null),r([]),g("/"),g(null)},T=function(){var e=Object(ae.a)(re.a.mark((function e(n){var a,i,o;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.habitName,e.prev=1,i={name:a},e.next=5,be(i);case 5:if(!(o=e.sent).error){e.next=12;break}if(!o.error.includes("is shorter than the minimum allowed length")){e.next=11;break}return b("Minimum length for a habit name is two (2) characters."),setTimeout((function(){b(null)}),4e3),e.abrupt("return");case 11:return e.abrupt("return");case 12:o.name&&c&&(r([].concat(Object(ne.a)(t),[o])),c.habits=c.habits.concat(o),y(!1),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(c))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n){return e.apply(this,arguments)}}(),U=function(){y(!w)},C=function(){var e=Object(ae.a)(re.a.mark((function e(n){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Do you want to delete habit: ".concat(n.name,"?"))){e.next=13;break}return e.prev=1,e.next=4,ue(n);case 4:r(t.filter((function(e){return e.id!==n.id}))),c&&(c.habits=c.habits.filter((function(e){return e.id!==n.id})),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(c)),j("Habit deleted"),setTimeout((function(){j(null)}),4e3),g("/"),g(null)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),b("Habit deletion failed"),setTimeout((function(){b(null)}),4e3);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=Object(ae.a)(re.a.mark((function e(n){var a,i,o,s,d,l,u;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",b("User not logged in"));case 2:return a=new Date,i=a.getDate(),o=a.getMonth(),s=a.getFullYear(),d={thisDay:i,thisMonth:o,thisYear:s},l=Object(ee.a)(Object(ee.a)({},n),{},{completions:n.completions.concat(d)}),e.prev=8,e.next=11,pe(l);case 11:u=e.sent,r(t.map((function(e){return e.id===u.id?u:e}))),c.habits=c.habits.map((function(e){return e.id===u.id?u:e})),window.localStorage.setItem("loggedHabitAppUser",JSON.stringify(c)),j("Completion added!"),setTimeout((function(){j(null)}),4e3),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(8),console.log(e.t0),b("Adding completion failed."),setTimeout((function(){b(null)}),4e3);case 24:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(n){return e.apply(this,arguments)}}();return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(hn,{}),Object(ge.jsx)(yn,{errorMessage:l,successMessage:h}),Object(ge.jsx)(ce.a,{children:Object(ge.jsxs)(oe.d,{children:[Object(ge.jsx)(oe.b,{exact:!0,path:"/",render:function(){return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Hn,{loggedInUser:c,handleLogout:z}),Object(ge.jsx)(tn,{habitsToShow:t,handleCompletion:H,toggleHabitForm:U,showHabitForm:w,loggedInUser:c,handleHabitSubmit:T})]})}}),Object(ge.jsx)(oe.b,{exact:!0,path:"/signup",render:function(){return m?Object(ge.jsx)(oe.a,{to:m}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Hn,{loggedInUser:c,handleLogout:z}),Object(ge.jsx)(On,{handleLoginSubmit:S,handleSignUpSubmit:k})]})}}),Object(ge.jsx)(oe.b,{exact:!0,path:"/login",render:function(){return m?Object(ge.jsx)(oe.a,{to:m}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Hn,{loggedInUser:c,handleLogout:z}),Object(ge.jsx)(On,{handleLoginSubmit:S,handleSignUpSubmit:k})]})}}),Object(ge.jsx)(oe.b,{path:"/habits/:id",render:function(e){var n,r=e.match;return m?Object(ge.jsx)(oe.a,{to:m}):Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Hn,{loggedInUser:c,handleLogout:z}),Object(ge.jsx)(pn,{habit:(n=r.params.id,t.find((function(e){return e.id===n}))),handleRemove:C})]})}}),Object(ge.jsx)(oe.b,{render:function(){return Object(ge.jsx)(oe.a,{to:{pathname:"/"}})}})]})})]})};_.a.render(Object(ge.jsx)(Dn,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.e173e421.chunk.js.map